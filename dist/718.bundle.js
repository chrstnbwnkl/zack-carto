(()=>{"use strict";var e,t,r={6718:(e,t,r)=>{var n=r(5595),o=r(8990),c=r(3359),a=r(8709),i=r(8149),l=r(7772),s=r(7912);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=u(u({},l),s),d=function(e,t,r){return"https://tile.openstreetmap.org/".concat(r,"/").concat(e,"/").concat(t,".png")};onmessage=function(e){var t=function(e){var t=e.fc,r=e.uploadedGeoJSON,l=e.config,s=e.bounds,p=f.geoMercator().fitExtent([[40,40],[960,660]],s),g=f.geoPath(p),y=f.tile().size([1e3,700]).scale(2*p.scale()*Math.PI).translate(p([0,0])).tileSize(256),m=a.createElement("svg",{width:1e3,height:700,title:"zack-download",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},a.createElement("g",{id:"tiles"},y().map((function(e,t,r){var n=(0,o.Z)(e,3),c=n[0],a=n[1],i=n[2],l=(0,o.Z)(r.translate,2),s=l[0],p=l[1],u=r.scale;return[d(c,a,i),Math.round((c+s)*u),Math.round((a+p)*u),u]})).map((function(e){return a.createElement("image",{key:"tile-".concat(e[0]),xlinkHref:e[0],x:e[1],y:e[2],width:e[3],height:e[3]})}))),a.createElement("g",{id:"uploaded-geojson"},r.map((function(e,t){return a.createElement("g",{key:t},e.features.map((function(e,t){var r=Object.keys(e.properties).reduce((function(t,r){return u(u({},t),{},(0,c.Z)({},"data-".concat(r.replaceAll(":","-").replaceAll("_","-")),e.properties[r]))}),{});return a.createElement("g",(0,n.Z)({key:"".concat(t)},r),"Point"!==e.geometry.type?a.createElement("path",{d:g(e),stroke:"#87784e",strokeWidth:2,fill:"none",strokeLinecap:"round"}):a.createElement("circle",(0,n.Z)({cx:p(e.geometry.coordinates)[0],cy:p(e.geometry.coordinates)[1],r:3,fill:"#000",stroke:"#87784e",fillOpacity:.4,strokeWidth:2},r)))})))}))),Object.keys(t).map((function(e){var r=l[e];return a.createElement("g",{key:e,id:e},r.values.map((function(o,i){return a.createElement("g",{key:"".concat(e,"-").concat(o),id:r.displayNames[i+1]},t[e].features.filter((function(e){return Array.isArray(o)?o.includes(e.properties[r.tag]):e.properties[r.tag]===o})).map((function(t){var o=Object.keys(t.properties).reduce((function(e,r){return u(u({},e),{},(0,c.Z)({},"data-".concat(r.replaceAll(":","-").replaceAll("_","-")),t.properties[r]))}),{});return a.createElement("g",(0,n.Z)({key:"".concat(e,"-").concat(t.properties.id),id:t.properties.id},o),"node"!==r.osmElement?a.createElement("path",(0,n.Z)({d:g(t)},r._d3Styles[i])):a.createElement("circle",(0,n.Z)({cx:p(t.geometry.coordinates)[0],cy:p(t.geometry.coordinates)[1]},r._d3Styles[i],o)))})))})))})));return i.uS(m)}({fc:e.data.fc,uploadedGeoJSON:e.data.uploadedGeoJSON,config:JSON.parse(e.data.config),bounds:e.data.bounds});postMessage(t)}}},n={};function o(e){var t=n[e];if(void 0!==t)return t.exports;var c=n[e]={exports:{}};return r[e](c,c.exports,o),c.exports}o.m=r,o.x=()=>{var e=o.O(void 0,[775],(()=>o(6718)));return o.O(e)},e=[],o.O=(t,r,n,c)=>{if(!r){var a=1/0;for(p=0;p<e.length;p++){for(var[r,n,c]=e[p],i=!0,l=0;l<r.length;l++)(!1&c||a>=c)&&Object.keys(o.O).every((e=>o.O[e](r[l])))?r.splice(l--,1):(i=!1,c<a&&(a=c));if(i){e.splice(p--,1);var s=n();void 0!==s&&(t=s)}}return t}c=c||0;for(var p=e.length;p>0&&e[p-1][2]>c;p--)e[p]=e[p-1];e[p]=[r,n,c]},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((t,r)=>(o.f[r](e,t),t)),[])),o.u=e=>e+".bundle.js",o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e})(),(()=>{var e={718:1};o.f.i=(t,r)=>{e[t]||importScripts(o.p+o.u(t))};var t=self.webpackChunkzack_carto=self.webpackChunkzack_carto||[],r=t.push.bind(t);t.push=t=>{var[n,c,a]=t;for(var i in c)o.o(c,i)&&(o.m[i]=c[i]);for(a&&a(o);n.length;)e[n.pop()]=1;r(t)}})(),t=o.x,o.x=()=>o.e(775).then(t),o.x()})();