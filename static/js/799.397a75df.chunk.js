(()=>{"use strict";var e={6799:(e,r,t)=>{t(5043);var o=t(6885),a=t(1579),s=t(8604),i=t(579);const l={...a,...s},n=(e,r,t)=>`https://tile.openstreetmap.org/${t}/${e}/${r}.png`,c=e=>e.replaceAll(":","-").replaceAll("_","-").replaceAll("@","").replaceAll("~","").toLocaleLowerCase();onmessage=e=>{const r=(e=>{let{fc:r,uploadedGeoJSON:t,config:a,bounds:s}=e;const[d,p,u]=[1e3,700,40],g=l.geoMercator().fitExtent([[u,u],[d-u,p-u]],s),h=l.geoPath(g),f=l.tile().size([d,p]).scale(2*g.scale()*Math.PI).translate(g([0,0])).tileSize(256),y=(0,i.jsxs)("svg",{width:d,height:p,title:"zack-download",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,i.jsx)("g",{id:"tiles",children:f().map(((e,r,t)=>{let[o,a,s]=e,{translate:[i,l],scale:c}=t;return[n(o,a,s),Math.round((o+i)*c),Math.round((a+l)*c),c]})).map((e=>(0,i.jsx)("image",{xlinkHref:e[0],x:e[1],y:e[2],width:e[3],height:e[3]},`tile-${e[0]}`)))}),(0,i.jsx)("g",{id:"uploaded-geojson",children:t.map(((e,r)=>(0,i.jsx)("g",{children:e.features.map(((e,r)=>{const t=Object.keys(e.properties).reduce(((r,t)=>({...r,[`data-${c(t)}`]:c(e.properties[t])})),{});return(0,i.jsx)("g",{...t,children:["Polygon","MultiPolygon"].includes(e.geometry.type)?(0,i.jsx)("path",{d:h(e),stroke:"#87784e",strokeWidth:"2",fill:"#B5A67D",strokeLinecap:"round",fillOpacity:"0.3"}):["LineString","MultiLineString"].includes(e.geometry.type)?(0,i.jsx)("path",{d:h(e),stroke:"#87784e",strokeWidth:"2",fill:"none",strokeLinecap:"round"}):(0,i.jsx)("circle",{cx:g(e.geometry.coordinates)[0],cy:g(e.geometry.coordinates)[1],r:3,fill:"#000",stroke:"#87784e",fillOpacity:.4,strokeWidth:2})},`${r}`)}))},r)))}),Object.keys(r).map((e=>{const t=a[e];return(0,i.jsx)("g",{id:e,children:t.values.map(((o,a)=>(0,i.jsx)("g",{id:t.displayNames[a+1],children:r[e].features.filter((e=>Array.isArray(o)?o.includes(e.properties[t.tag]):e.properties[t.tag]===o)).map((r=>{const o=Object.keys(r.properties).reduce(((e,t)=>({...e,[`data-${c(t)}`]:c(r.properties[t])})),{});return(0,i.jsx)("g",{id:r.properties.id,...o,children:"node"!==t.osmElement?(0,i.jsx)("path",{d:h(r),...t.d3Styles[a]}):(0,i.jsx)("circle",{cx:g(r.geometry.coordinates)[0],cy:g(r.geometry.coordinates)[1],...t.d3Styles[a]})},`${e}-${r.properties.id}`)}))},`${e}-${o}`)))},e)}))]});return o.qV(y)})({fc:e.data.fc,uploadedGeoJSON:e.data.uploadedGeoJSON,config:JSON.parse(e.data.config),bounds:e.data.bounds});postMessage(r)}}},r={};function t(o){var a=r[o];if(void 0!==a)return a.exports;var s=r[o]={exports:{}};return e[o](s,s.exports,t),s.exports}t.m=e,t.x=()=>{var e=t.O(void 0,[794],(()=>t(6799)));return e=t.O(e)},(()=>{var e=[];t.O=(r,o,a,s)=>{if(!o){var i=1/0;for(d=0;d<e.length;d++){o=e[d][0],a=e[d][1],s=e[d][2];for(var l=!0,n=0;n<o.length;n++)(!1&s||i>=s)&&Object.keys(t.O).every((e=>t.O[e](o[n])))?o.splice(n--,1):(l=!1,s<i&&(i=s));if(l){e.splice(d--,1);var c=a();void 0!==c&&(r=c)}}return r}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[o,a,s]}})(),t.d=(e,r)=>{for(var o in r)t.o(r,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:r[o]})},t.f={},t.e=e=>Promise.all(Object.keys(t.f).reduce(((r,o)=>(t.f[o](e,r),r)),[])),t.u=e=>"static/js/"+e+".2096926f.chunk.js",t.miniCssF=e=>{},t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),t.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.p="/zack-carto/",(()=>{var e={799:1};t.f.i=(r,o)=>{e[r]||importScripts(t.p+t.u(r))};var r=self.webpackChunkzack_carto_cra=self.webpackChunkzack_carto_cra||[],o=r.push.bind(r);r.push=r=>{var a=r[0],s=r[1],i=r[2];for(var l in s)t.o(s,l)&&(t.m[l]=s[l]);for(i&&i(t);a.length;)e[a.pop()]=1;o(r)}})(),(()=>{var e=t.x;t.x=()=>t.e(794).then(e)})();t.x()})();
//# sourceMappingURL=799.397a75df.chunk.js.map